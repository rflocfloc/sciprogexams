<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://rflocfloc.github.io/sciprogexams/2023_12_19/qcb/web_page/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>231219 - ScientificProgramming Exams</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = 231219;
        var mkdocs_page_input_path = "2023_12_19/qcb/web_page.md";
        var mkdocs_page_url = "/sciprogexams/2023_12_19/qcb/web_page/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ScientificProgramming Exams
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Data Science</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../../todo.md">231107</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../todo.md">231219</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../todo.md">240122</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">QCB</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="" href="../../../todo.md">231107</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">231219</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#exercises">Exercises</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-1-theory">Exercise 1 [Theory]</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-2-theory">Exercise 2 [Theory]</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-3-lab">Exercise 3 [Lab]</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-4-lab">Exercise 4 [Lab]</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#solutions">Solutions</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-3">Exercise 3</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-4">Exercise 4</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../todo.md">240122</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ScientificProgramming Exams</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">QCB</li>
      <li class="breadcrumb-item active">231219</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="midterm-2023_12_19">Midterm 2023_12_19</h1>
<h2 id="exercises">Exercises</h2>
<h3 id="exercise-1-theory">Exercise 1 [Theory]</h3>
<p>Describe the differences between the Depth-First and the Breadth-First Search algorithms for visiting graphs. Then, apply the DFS to the graph below.</p>
<p><img alt="" src="../img/ex1.png" /></p>
<h3 id="exercise-2-theory">Exercise 2 [Theory]</h3>
<p>Given a sorted list L of n elements, please compute the asymptotic computational
complexity of the following fun function, explaining your reasoning.</p>
<pre><code class="language-python">def fun(L):
    if len(L)== 1:
        return L[0]
    return max(L[0],fun(L[1:]))
</code></pre>
<p>Remember that the slicing operator creates a new list to store the sliced elements.</p>
<h3 id="exercise-3-lab">Exercise 3 [Lab]</h3>
<p>Implement the <code>sort()</code> method of the class <code>PancakeSort</code> in the file <a href="../exercise3.py">exercise3.py</a> . To test the
implementation, execute the file <a href="../exercise3.py">exercise3.py</a>, which is already equipped with a main
code that tests the method by sorting the list [7, 5, 10, -11, 3, -4, 99, 1].
Imagine you have a stack of pancakes of different sizes, and you want to arrange them in
order from the largest at the bottom to the smallest at the top. Here's how Pancake Sort
works:
Start with your stack of unsorted pancakes. The stack represents the list of numbers that
you want to sort (it is not an actual stack data structure).</p>
<ol>
<li>Iterate over the stack of pancakes (list of numbers) starting from the <strong>bottom</strong>
pancake (end of the list) and going towards the top (first pancake). This because
at the end of each iteration the biggest pancake (number) will be moved to the
bottom of the stack (last position in the list), and we want to reduce the size of the list we work with at each iteration.</li>
<li>At each iteration, identify the biggest pancake ( number ) and get its position X.</li>
<li>If the biggest pancake is not already at the top, flip the unsorted stack to move it
there (in the first position of the list). This means that you must flip the sub-list that
goes from 0 to position X.</li>
<li>Now, flip the entire stack (list) so that the biggest pancake is now at the bottom
(end of the list).</li>
<li>Repeat the process, focusing on a smaller stack each time (excluding the pancake
you've already sorted, which is now at the end).</li>
<li>Continue until all pancakes are in order (i.e. when you reach the first position in the
list)</li>
</ol>
<p>Keep in mind that with flip we mean to reverse the order of the elements in the list (or
sub-list). Below there is an example of how the sorting works:</p>
<p><img alt="" src="../img/ex3.png" /></p>
<h3 id="exercise-4-lab">Exercise 4 [Lab]</h3>
<p>Consider the DiGraphAsAdjacencyMatrix class provided in the file <a href="../exercise4.py">exercise4.py</a>
implementing a directed graph by adjacency matrix. Implement the two missing methods:</p>
<ol>
<li>
<p><code>getNumberOfConnectedNodes(mynode, modality)</code> : that returns the number of
nodes that connect to the node mynode, if mynode exists. The method supports
two modalities: when modality = 1, only incoming edges are considered, when
modality = 2, only outgoing edges are considered. The code should print an error
message and return 0 when mynode does not exist or when the method modality
is not supported (values different from 1 and 2).</p>
</li>
<li>
<p><code>getAverageNumberOfEdgesPerNode()</code> : that returns the average number of edges
per node in the graph. To implement this method, you are allowed to use the
method at point 1 if this helps. To test the implementation, execute the file
exercise4.py, which already has a main code and tests the methods on the
following graph:</p>
</li>
</ol>
<p><img alt="" src="../img/ex4.png" /></p>
<h2 id="solutions">Solutions</h2>
<h3 id="exercise-3">Exercise 3</h3>
<pre><code class="language-python">import random

class SortingAlgorithm:
    def __init__(self, data, verbose = True):
        self.data = data
        self.comparisons = 0
        self.operations = 0
        self.verbose = verbose

    def getData(self):
        return self.data

    def getOperations(self):
        return self.operations

    def getComparisons(self):
        return self.comparisons

    def sort(self):
        raise NotImplementedError

class pancakeSort(SortingAlgorithm):

    def flip(self, i):
        self.data[:i+1] = reversed(self.data[:i+1])

    def max_index(self, max_pankcake):
        cur_max = 0
        for i in range(1,max_pankcake+1):
            if self.data[i] &gt; self.data[cur_max]:
                cur_max = i
        return cur_max

    def sort(self):

        &quot;&quot;&quot;
        Implement the Pancake Sort algorithm 
        &quot;&quot;&quot;


        n = len(self.data)-1

        for big_flip in range(n, 0, -1):

            # Find the index of the maximum element in self.data[0..curr_size-1]
            mi = self.max_index(big_flip)

            # Move the maximum element to end of current self.dataay if it's not already there
            # Flip the self.data from 0 to max element index
            self.flip(mi)
            # Flip the whole self.data
            self.flip(big_flip)

        return self.data


if __name__ == &quot;__main__&quot;:

    d = [7, 5, 10, -11 ,3, -4, 99, 1]
    print(d)
    insSorter = pancakeSort(d)
    insSorter.sort()
    print(d)
</code></pre>
<h3 id="exercise-4">Exercise 4</h3>
<pre><code class="language-python">class DiGraphAsAdjacencyMatrix:
    def __init__(self):
        self.__nodes = list()
        self.__matrix = list()

    def __len__(self):
        &quot;&quot;&quot;gets the number of nodes&quot;&quot;&quot;
        return len(self.__nodes)


    def __str__(self):
        header = &quot;\t&quot;.join([n for n in self.__nodes])
        data = &quot;&quot;
        for i in range(0,len(self.__matrix)):
            data += str(self.__nodes[i]) + &quot;\t&quot;
            data += &quot;\t&quot;.join([str(x) for x in self.__matrix[i]]) + &quot;\n&quot;

        return &quot;\t&quot;+ header +&quot;\n&quot; + data

    def insertNode(self, node):
        #add the node if not there already.
        if node not in self.__nodes:
            self.__nodes.append(node)
            #add a row and a column of zeros in the matrix
            if len(self.__matrix) == 0:
                #first node
                self.__matrix = [[0]]
            else:
                N = len(self.__nodes)
                for row in self.__matrix:
                    row.append(0)
                self.__matrix.append([0 for x in range(N)])

    def insertEdge(self, node1, node2, weight):
        i = -1
        j = -1
        if node1 in self.__nodes:
            i = self.__nodes.index(node1)
        if node2 in self.__nodes:
            j = self.__nodes.index(node2)
        if i != -1 and j != -1:
            self.__matrix[i][j] = weight

    #---------------------------------------#
    # do not edit code above this line!
    #---------------------------------------#

    def getNumberOfConnectedNodes(self, mynode, modality):
        &quot;&quot;&quot;
        modality = 1 uses only incoming edges;
        modality = 2 uses only outgoing edges;
        Print an error message and return 0 when mynode does not exist or
        when the method modality is not supported.
        &quot;&quot;&quot;
        ret = 0
        i = -1
        if mynode in self.__nodes:
            i = self.__nodes.index(mynode)

        # if the node is present
        if i != -1:
            # outgoing edges
            if modality == 2:
                for e in range(len(self.__matrix[i])):
                    if self.__matrix[i][e] != 0:
                        ret +=1
            # incomming edges
            elif modality == 1:
                for e in range(len(self.__matrix)):
                    if self.__matrix[e][i] != 0:
                        ret +=1
            else:
                print(f&quot;ERROR: Modality {modality} is not supported&quot;)

        else:
            print(f&quot;ERROR: {mynode} does not exist&quot;)
        return ret


    def getAverageNumberOfEdgesPerNode(self):
        &quot;&quot;&quot;
        returns average number of edges per nodes in the graph
        &quot;&quot;&quot;
        edge_avg = []
        for node in self.__nodes:
            in_e = self.getNumberOfConnectedNodes(node, 1)
            out_e = self.getNumberOfConnectedNodes(node, 2)
            edge_avg.append(in_e+out_e)

        return sum(edge_avg)/len(edge_avg)

if __name__ == &quot;__main__&quot;:
    G = DiGraphAsAdjacencyMatrix()

    for i in range(11):
        n = &quot;Node_{}&quot;.format(i+1)
        G.insertNode(n)

    G.insertEdge(&quot;Node_1&quot;, &quot;Node_9&quot;, 5)
    G.insertEdge(&quot;Node_1&quot;, &quot;Node_2&quot;, 2)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_4&quot;, 1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_5&quot;, 3.5)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_3&quot;, 2)
    G.insertEdge(&quot;Node_3&quot;, &quot;Node_5&quot;, 2)
    G.insertEdge(&quot;Node_4&quot;, &quot;Node_6&quot;, 1)
    G.insertEdge(&quot;Node_4&quot;, &quot;Node_7&quot;, 2)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_10&quot;, 3)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_9&quot;, 1)
    G.insertEdge(&quot;Node_6&quot;, &quot;Node_7&quot;, 1)
    G.insertEdge(&quot;Node_6&quot;, &quot;Node_9&quot;, 2)
    G.insertEdge(&quot;Node_7&quot;, &quot;Node_4&quot;, 2)
    G.insertEdge(&quot;Node_7&quot;, &quot;Node_5&quot;, 1)
    G.insertEdge(&quot;Node_7&quot;, &quot;Node_9&quot;, 3)
    G.insertEdge(&quot;Node_8&quot;, &quot;Node_3&quot;, 4)
    G.insertEdge(&quot;Node_8&quot;, &quot;Node_2&quot;, 7)
    G.insertEdge(&quot;Node_8&quot;, &quot;Node_1&quot;, 7)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_1&quot;, 5)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_3&quot;, 4)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_5&quot;, 1)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_8&quot;, 1)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_10&quot;, 4)
    G.insertEdge(&quot;Node_10&quot;, &quot;Node_3&quot;, 3)
    G.insertEdge(&quot;Node_11&quot;, &quot;Node_10&quot;, 1)

    print(&quot;Size is: {}&quot;.format(len(G)))
    print(&quot;\nMatrix:&quot;)
    print(G)

    #PART 1
    print(&quot;\nPART 1:\n&quot;)
    nodes = [&quot;Node_3&quot;, &quot;Node_7&quot;, &quot;Node_11&quot;]

    print(&quot;\n-&gt; modality 1 test:&quot;)
    for n in nodes:
        n_e = G.getNumberOfConnectedNodes(n, 1)
        print(f&quot;\t{n} has {n_e} incoming links.&quot;)

    print(&quot;\n-&gt; modality 2 test:&quot;)
    for n in nodes:
        n_e = G.getNumberOfConnectedNodes(n, 2)
        print(f&quot;\t{n} has {n_e} outgoing links.&quot;)

    print(&quot;\n-&gt; invalid cases:&quot;)
    n_e = G.getNumberOfConnectedNodes(&quot;Node_27&quot;, 2)
    print(f&quot;\tNode_27 has {n_e} outgoing links.&quot;)
    n_e = G.getNumberOfConnectedNodes(&quot;Node_27&quot;, 3)
    print(f&quot;\tNode_27 has {n_e} outgoing links.&quot;)

    # some asserts
    assert G.getNumberOfConnectedNodes(&quot;Node_11&quot;, 1) == 0
    assert G.getNumberOfConnectedNodes(&quot;Node_4&quot;, 1) == 2
    assert G.getNumberOfConnectedNodes(&quot;Node_4&quot;, 2) == 2

    #PART 2
    print(&quot;\nPART 2:\n&quot;)
    print(f&quot;Average number of edges per node in the graph: {G.getAverageNumberOfEdgesPerNode()}\n&quot;)

    assert G.getAverageNumberOfEdgesPerNode() == 4.545454545454546

</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../.." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../.." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
